add_namespace = mrz_gen_politic

#revolution
country_event = {
	id = mrz_gen_politic.1
	title = mrz_gen_politic.1.t
	desc = mrz_gen_politic.1.desc
	picture = GFX_report_event_generic_rally_3
	
	is_triggered_only = yes

	option = {
		name = mrz_gen_politic.1.a
		set_politics = { ruling_party = totalist elections_allowed = no }
		complete_national_focus = mrz_totalism

	}
	option = {
		name = mrz_gen_politic.1.b
		set_politics = { ruling_party = syndicalist elections_allowed = no }
		complete_national_focus = mrz_sandicalism
	}
	option = {
		name = mrz_gen_politic.1.c
		set_politics = { ruling_party = democratic_socialist elections_allowed = no }
		complete_national_focus = mrz_demo_social
	}
}

#no_revolution
country_event = {
	id = mrz_gen_politic.2
	title = mrz_gen_politic.2.t
	desc = mrz_gen_politic.2.desc
	picture = GFX_report_event_generic_rally_3
	
	is_triggered_only = yes

	option = {
		name = mrz_gen_politic.2.a
		set_politics = { ruling_party = authoritarian_democrat elections_allowed = no }
		complete_national_focus = mrz_gwoni

	}
	option = {
		name = mrz_gen_politic.2.b
		set_politics = { ruling_party = paternal_autocrat elections_allowed = no }
		complete_national_focus = mrz_feudal
	}
	option = {
		name = mrz_gen_politic.2.c
		set_politics = { ruling_party = national_populist elections_allowed = no }
		complete_national_focus = mrz_populism
	}
}

#free_elect
country_event = {
	id = mrz_gen_politic.3
	title = mrz_gen_politic.3.t
	desc = mrz_gen_politic.3.desc
	picture = GFX_report_event_generic_rally_3
	
	is_triggered_only = yes

	option = {
		name = mrz_gen_politic.3.a
		set_politics = { ruling_party = democratic_socialist elections_allowed = no }
		complete_national_focus = mrz_demo_social

	}
	option = {
		name = mrz_gen_politic.3.b
		country_event = mrz_gen_politic.4
	}
	option = {
		name = mrz_gen_politic.3.c
		set_politics = { ruling_party = authoritarian_democrat elections_allowed = no }
		complete_national_focus = mrz_gwoni
	}
}

#free_elect_2
country_event = {
	id = mrz_gen_politic.4
	title = mrz_gen_politic.4.t
	desc = mrz_gen_politic.4.desc
	picture = GFX_report_event_generic_rally_3
	
	is_triggered_only = yes

	option = {
		name = mrz_gen_politic.4.a
		set_politics = { ruling_party = social_progressive elections_allowed = yes }
		complete_national_focus = mrz_jinbo
	}
	option = {
		name = mrz_gen_politic.4.b
		set_politics = { ruling_party = social_liberal elections_allowed = yes }
		complete_national_focus = mrz_social_free
	}
	option = {
		name = mrz_gen_politic.4.c
		set_politics = { ruling_party = market_liberal elections_allowed = yes }
		complete_national_focus = mrz_market_free
	}
	option = {
		name = mrz_gen_politic.4.d
		set_politics = { ruling_party = social_conservative elections_allowed = yes }
		complete_national_focus = mrz_social_bosu
	}
}

#Set Variable
country_event = {
	id = mrz_gen_politic.5
	
	immediate = {log = "[GetDateText]: [Root.GetName]: event mrz_gen_politic.5"}

	hidden = yes

	immediate = {
		set_variable = {
  		 var = goverment_popularity
   		 value = ROOT.party_popularity@ruling_party
		}
		set_global_flag = coalition_flag
	}

	option = {}
}

#Add popularity
country_event = {
	id = mrz_gen_politic.6
	is_triggered_only = yes
	trigger = {has_global_flag = coalition_flag}
	immediate = {log = "[GetDateText]: [Root.GetName]: event mrz_gen_politic.6"}

	hidden = yes

immediate = {
	if = {
		limit = { ROOT = { has_country_flag = totalist_coalition } }
		ROOT = {
		set_temp_variable = { tot = ROOT.party_popularity@totalist }
		multiply_temp_variable = { tot = 100 }
		set_variable = { totalist_popularity = tot }
			add_to_variable = {
				var = goverment_popularity
				value = totalist_popularity
					}
			}
	}
	if = {
		limit = { ROOT = { has_country_flag = syndicalist_coalition } }
		ROOT = {
		set_temp_variable = { syn = ROOT.party_popularity@syndicalist }
		multiply_temp_variable = { syn = 100 }
		set_variable = { syndicalist_popularity = syn }
			add_to_variable = {
				var = goverment_popularity
				value = syndicalist_popularity
					}
			}
	}

	if = {
		limit = { ROOT = { has_country_flag = democratic_socialist_coalition } }
		ROOT = {
		set_temp_variable = { demsoc = ROOT.party_popularity@democratic_socialist }
		multiply_temp_variable = { demsoc = 100 }
		set_variable = { democratic_socialist_popularity = demsoc }
			add_to_variable = {
				var = goverment_popularity
				value = democratic_socialist_popularity
					}
			}
	}
	if = {
		limit = { ROOT = { has_country_flag = social_progressive_coalition } }
		ROOT = {
		set_temp_variable = { socpro = ROOT.party_popularity@social_progressive }
		multiply_temp_variable = { socpro = 100 }
		set_variable = { social_progressive_popularity = socpro }
			add_to_variable = {
				var = goverment_popularity
				value = social_progressive_popularity
					}
			}
	}
	if = {
		limit = { ROOT = { has_country_flag = social_liberal_coalition } }
		ROOT = {
		set_temp_variable = { soclib = ROOT.party_popularity@social_liberal }
		multiply_temp_variable = { soclib = 100 }
		set_variable = { social_liberal_popularity = soclib }
			add_to_variable = {
				var = goverment_popularity
				value = social_liberal_popularity
					}
			}
	}
	if = {
		limit = { ROOT = { has_country_flag = market_liberal_coalition } }
		ROOT = {
		set_temp_variable = { marklib = ROOT.party_popularity@market_liberal }
		multiply_temp_variable = { marklib = 100 }
		set_variable = { social_liberal_popularity = marklib }
			add_to_variable = {
				var = goverment_popularity
				value = market_liberal_popularity
					}
			}
	}
	if = {
		limit = { ROOT = { has_country_flag = social_conservative_coalition } }
		ROOT = {
		set_temp_variable = { soccon = ROOT.party_popularity@social_conservative }
		multiply_temp_variable = { soccon = 100 }
		set_variable = { social_conservative_popularity = soccon }
			add_to_variable = {
				var = goverment_popularity
				value = social_conservative_popularity
					}
			}
	}
	if = {
		limit = { ROOT = { has_country_flag = authoritarian_democrat_coalition } }
		ROOT = {
		set_temp_variable = { authdem = ROOT.party_popularity@authoritarian_democrat }
		multiply_temp_variable = { authdem = 100 }
		set_variable = { social_liberal_popularity = authdem }
			add_to_variable = {
				var = goverment_popularity
				value = authoritarian_democrat_popularity
					}
			}
	}
	if = {
		limit = { ROOT = { has_country_flag = paternal_autocrat_coalition } }
		ROOT = {
		set_temp_variable = { pataut = ROOT.party_popularity@paternal_autocrat }
		multiply_temp_variable = { pataut = 100 }
		set_variable = { social_liberal_popularity = pataut }
			add_to_variable = {
				var = goverment_popularity
				value = paternal_autocrat_popularity
					}
			}
	}
	if = {
		limit = { ROOT = { has_country_flag = national_populist_coalition } }
		ROOT = {
		set_temp_variable = { natpop = ROOT.party_popularity@national_populist }
		multiply_temp_variable = { natpop = 100 }
		set_variable = { social_liberal_popularity = natpop }
			add_to_variable = {
				var = goverment_popularity
				value = national_populist_popularity
					}
			}
	}
		clr_global_flag = coalition_flag
	}

	option = {}
}
